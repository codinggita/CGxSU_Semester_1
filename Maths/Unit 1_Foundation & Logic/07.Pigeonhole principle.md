# Pigeonhole Principle

## Learning Objectives

- Understand and apply the basic pigeonhole principle
- Use the generalized pigeonhole principle for quantitative bounds
- Apply the principle to existence proofs in various mathematical domains
- Translate real-world problems into pigeonhole principle scenarios
- Recognize when the pigeonhole principle is the appropriate proof technique

## Prerequisites

- Understanding of division and ceiling function
- Basic logical reasoning
- Familiarity with counting principles

## Definitions and Theoretical Foundations

### Definition 8.1 (Pigeonhole Principle - Basic Form)

If $n$ items are placed into $m$ containers with $n > m$, then at least one container must contain more than one item.

**Formal Statement:** Let $A$ and $B$ be finite sets. If $|A| > |B|$ and $f: A \to B$ is any function, then $f$ is not injective. That is, there exist distinct elements $a_1, a_2 \in A$ such that $f(a_1) = f(a_2)$.

### Definition 8.2 (Generalized Pigeonhole Principle)

If $n$ items are placed into $m$ containers, then at least one container must contain at least $\lceil n/m \rceil$ items.

**Notation:** $\lceil x \rceil$ denotes the **ceiling** of $x$, the smallest integer greater than or equal to $x$.

**Formal Statement:** For any function $f: A \to B$ with $|A| = n$ and $|B| = m$, there exists $b \in B$ such that $|f^{-1}(b)| \geq \lceil n/m \rceil$.

**Proof of Generalized Form:**

Suppose, for contradiction, that every container has fewer than $\lceil n/m \rceil$ items. Then every container has at most $\lceil n/m \rceil - 1$ items.

Total items across all containers:
$$\leq m(\lceil n/m \rceil - 1) < m \cdot (n/m + 1) - m = n + m - m = n$$

But we have exactly $n$ items, contradiction. Therefore, at least one container has at least $\lceil n/m \rceil$ items. $\square$

### Alternative Names

The Pigeonhole Principle is also known as:
- **Dirichlet's Box Principle** (after Peter Gustav Lejeune Dirichlet)
- **Drawer Principle**
- **Shelf Principle**

## Worked Examples

### Example 1 (Simple): Basic Application

**Problem:** In a group of 13 people, prove that at least two were born in the same month.

**Solution:**

- Items (pigeons): 13 people
- Containers (pigeonholes): 12 months

Since $13 > 12$, by the pigeonhole principle, at least one month contains at least two birthdays. $\square$

---

### Example 2 (Simple): Generalized Form

**Problem:** If 30 students take an exam graded from 0 to 10 (11 possible grades), prove that at least 3 students received the same grade.

**Solution:**

- Items: 30 students
- Containers: 11 possible grades

By the generalized pigeonhole principle:
$$\left\lceil \frac{30}{11} \right\rceil = \lceil 2.727... \rceil = 3$$

At least one grade was received by at least 3 students. $\square$

---

### Example 3 (Intermediate): Number Theory Application

**Problem:** Prove that among any 11 integers, there exist two whose difference is divisible by 10.

**Solution:**

Consider the remainders when dividing by 10. Each integer has a remainder in $\{0, 1, 2, \ldots, 9\}$.

- Items: 11 integers
- Containers: 10 possible remainders

Since $11 > 10$, by the pigeonhole principle, at least two integers have the same remainder modulo 10.

If $a \equiv r \pmod{10}$ and $b \equiv r \pmod{10}$, then:
$$a - b \equiv r - r \equiv 0 \pmod{10}$$

Therefore, $10 \mid (a - b)$. $\square$

---

### Example 4 (Challenging): Subset Sum

**Problem:** Prove that among any $n+1$ integers selected from $\{1, 2, \ldots, 2n\}$, there exist two such that one divides the other.

**Solution:**

Every positive integer can be written uniquely as $2^k \cdot m$ where $m$ is odd and $k \geq 0$.

For integers in $\{1, 2, \ldots, 2n\}$, the odd part $m$ must be in $\{1, 3, 5, \ldots, 2n-1\}$.

There are exactly $n$ odd numbers in this range.

- Items: $n+1$ selected integers
- Containers: $n$ possible odd parts

By the pigeonhole principle, at least two selected integers, say $a = 2^{k_1} m$ and $b = 2^{k_2} m$, share the same odd part $m$.

Without loss of generality, assume $k_1 < k_2$. Then:
$$a = 2^{k_1} m \mid 2^{k_2} m = b$$

Therefore, $a$ divides $b$. $\square$

---

### Example 5 (Advanced): Geometric Application

**Problem:** Prove that if 5 points are placed inside (or on the boundary of) a unit square, then at least two points are within distance $\frac{\sqrt{2}}{2}$ of each other.

**Solution:**

Divide the unit square into 4 smaller squares, each with side length $\frac{1}{2}$.

- Items: 5 points
- Containers: 4 smaller squares

By the pigeonhole principle, at least one smaller square contains at least two points.

The maximum distance between two points in a square of side $s$ is the diagonal: $s\sqrt{2}$.

For $s = \frac{1}{2}$:
$$\text{max distance} = \frac{1}{2} \cdot \sqrt{2} = \frac{\sqrt{2}}{2}$$

Therefore, at least two of the 5 points are within distance $\frac{\sqrt{2}}{2}$. $\square$

## Applications and Intuition

### Computer Science
- **Hashing:** Collisions are inevitable when mapping a larger domain to a smaller range
- **Data compression:** Pigeonhole principle proves impossibility of lossless compression for all files

### Number Theory
- Proving existence of solutions without constructing them explicitly
- Modular arithmetic and divisibility proofs

### Combinatorics
- Ramsey theory: guaranteeing structure in large enough sets
- Graph theory: proving existence of certain graph properties

### Cryptography
- Birthday paradox: collision probability in hash functions

## Exercises

### Exercise 1
In a class of 50 students, prove that at least 5 were born on the same day of the week.

**Hint:** Use generalized pigeonhole principle with 7 days.

**Solution:** $\lceil 50/7 \rceil = \lceil 7.14... \rceil = 8$. Actually, at least 8 students share a birthday day of the week.

---

### Exercise 2
Prove that among 100 people, at least 9 were born in the same month.

**Hint:** Generalized form with 12 months.

**Solution:** $\lceil 100/12 \rceil = \lceil 8.33... \rceil = 9$

---

### Exercise 3
Show that if 6 integers are chosen from $\{1, 2, \ldots, 10\}$, then two of them must be consecutive.

**Hint:** Consider pairs: $\{1,2\}, \{3,4\}, \{5,6\}, \{7,8\}, \{9,10\}$.

**Solution:** There are 5 such pairs. Choosing 6 integers from 5 pairs forces two from the same pair, which are consecutive.

---

### Exercise 4
Prove that in any set of 6 distinct integers, there exist two whose difference is divisible by 5.

**Hint:** Remainders modulo 5 are $\{0, 1, 2, 3, 4\}$.

**Solution:** 6 integers, 5 remainders. By pigeonhole principle, two share a remainder, so their difference is divisible by 5.

---

### Exercise 5 (Challenge)
Prove that among any 52 integers, there exist two whose sum or difference is divisible by 100.

**Hint:** Consider remainders modulo 100 and their complements.

**Solution:** Partition remainders $\{0, 1, \ldots, 99\}$ into 51 groups:
- $\{0\}$, $\{50\}$
- $\{1, 99\}$, $\{2, 98\}$, ..., $\{49, 51\}$ (49 pairs)

With 52 integers and 51 groups, two integers fall in the same group. If in $\{r, 100-r\}$, their sum $\equiv 0 \pmod{100}$. If both have the same remainder, their difference $\equiv 0 \pmod{100}$.

## Common Mistakes and Misconceptions

1. **Forgetting to apply ceiling:** With 23 items in 5 containers, at least $\lceil 23/5 \rceil = 5$ in one container, not 4.

2. **Misidentifying items and containers:** Clearly distinguish what is being distributed (items) and where (containers).

3. **Assuming uniform distribution:** The principle guarantees a minimum, not uniform distribution.

4. **Off-by-one errors:** $n > m$ is strict inequality; $n = m$ doesn't invoke the principle.

## Summary and Key Takeaways

1. **Basic Pigeonhole Principle:** $n$ items into $m$ containers with $n > m$ guarantees at least one container has $\geq 2$ items.

2. **Generalized Form:** Guarantees at least one container has $\geq \lceil n/m \rceil$ items.

3. **Existence proof:** Proves something exists without constructing it explicitly.

4. **Wide applicability:** Number theory, combinatorics, geometry, computer science.

5. **Key insight:** Finite containers cannot accommodate more items uniformly.

---

**Further Study:** Explore Ramsey theory, probabilistic method, and advanced combinatorial principles.
