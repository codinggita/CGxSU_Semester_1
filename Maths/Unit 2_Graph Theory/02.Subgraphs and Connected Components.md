# Subgraphs and Connected Components

## Learning Objectives

- Define and construct subgraphs, induced subgraphs, and spanning subgraphs
- Understand connectivity and connected components in graphs
- Apply algorithms to find connected components
- Prove properties of connected graphs using structural arguments
- Analyze graph decomposition into components
- Understand vertex and edge connectivity
- Apply connectivity concepts to network reliability and graph algorithms

## Prerequisites

- Basic graph definitions (vertices, edges, paths)
- Understanding of set theory and partitions
- Familiarity with graph types
- Basic proof techniques (induction, contradiction)

## Definitions and Theoretical Foundations

### Definition 3.1 (Subgraph)

A graph $H = (V_H, E_H)$ is a **subgraph** of $G = (V_G, E_G)$ if:
1. $V_H \subseteq V_G$ (vertices of $H$ are a subset of vertices of $G$)
2. $E_H \subseteq E_G$ (edges of $H$ are a subset of edges of $G$)

Notation: $H \subseteq G$

**Proper subgraph:** $H \subset G$ if $H \subseteq G$ and $H \neq G$.

### Definition 3.2 (Induced Subgraph)

Let $G = (V, E)$ be a graph and $S \subseteq V$. The **subgraph induced by $S$**, denoted $G[S]$, is the graph $(S, E_S)$ where:
$$E_S = \{\{u, v\} \in E : u, v \in S\}$$

That is, $G[S]$ contains all edges of $G$ that have both endpoints in $S$.

**Edge-induced subgraph:** For $F \subseteq E$, the edge-induced subgraph is $(V_F, F)$ where $V_F$ consists of all endpoints of edges in $F$.

### Definition 3.3 (Spanning Subgraph)

A **spanning subgraph** of $G = (V, E)$ is a subgraph $H = (V, E_H)$ where $E_H \subseteq E$.

That is, $H$ contains all vertices of $G$ but possibly fewer edges.

### Definition 3.4 (Connectivity)

An undirected graph $G$ is **connected** if for every pair of distinct vertices $u, v \in V$, there exists a path from $u$ to $v$.

Otherwise, $G$ is **disconnected**.

### Definition 3.5 (Connected Component)

A **connected component** of a graph $G$ is a maximal connected subgraph.

Formally, $H$ is a connected component of $G$ if:
1. $H$ is connected
2. There is no connected subgraph $H'$ of $G$ with $H \subset H'$

**Properties:**
- Every vertex belongs to exactly one connected component
- Connected components partition the vertex set
- A graph is connected if and only if it has exactly one connected component

### Definition 3.6 (Distance and Diameter)

The **distance** $d(u, v)$ between vertices $u$ and $v$ is the length of the shortest path between them. If no path exists, $d(u, v) = \infty$.

The **diameter** of a connected graph $G$ is:
$$\text{diam}(G) = \max_{u,v \in V} d(u, v)$$

The **radius** of a connected graph $G$ is:
$$\text{rad}(G) = \min_{v \in V} \max_{u \in V} d(u, v)$$

### Theorem 3.1 (Connected Graph Minimum Edges)

A connected graph with $n$ vertices has at least $n - 1$ edges.

**Proof:**

We prove by induction on $n$.

**Base case:** $n = 1$. A single vertex forms a connected graph with 0 edges, and $0 \geq 1 - 1 = 0$. ✓

**Inductive step:** Assume the statement holds for all connected graphs with $k$ vertices. Consider a connected graph $G$ with $k + 1$ vertices.

Remove any edge $e = \{u, v\}$ from $G$. Either:

**Case 1:** $G - e$ is still connected. Then $G - e$ has $k + 1$ vertices and is connected, so by hypothesis applied to a spanning tree of $G - e$, it has at least $k$ edges. Therefore, $G$ has at least $k + 1$ edges ≥ $(k + 1) - 1 = k$ ✓

**Case 2:** $G - e$ is disconnected into two components $C_1$ and $C_2$ with $n_1$ and $n_2$ vertices respectively, where $n_1 + n_2 = k + 1$.

Both $C_1$ and $C_2$ are connected with $n_1, n_2 < k + 1$ vertices, so by the inductive hypothesis:
- $C_1$ has at least $n_1 - 1$ edges
- $C_2$ has at least $n_2 - 1$ edges

Total edges in $G$:
$$|E(G)| \geq (n_1 - 1) + (n_2 - 1) + 1 = n_1 + n_2 - 1 = k + 1 - 1 = k$$ ✓

By induction, the theorem holds for all $n$. $\square$

### Definition 3.7 (Vertex and Edge Connectivity)

The **vertex connectivity** $\kappa(G)$ is the minimum number of vertices whose removal disconnects $G$ or reduces it to a single vertex.

The **edge connectivity** $\lambda(G)$ is the minimum number of edges whose removal disconnects $G$.

**Properties:**
$$\kappa(G) \leq \lambda(G) \leq \delta(G)$$

where $\delta(G)$ is the minimum degree in $G$.

### Definition 3.8 (Cut Vertex and Bridge)

A **cut vertex** (or articulation point) is a vertex whose removal increases the number of connected components.

A **bridge** (or cut edge) is an edge whose removal increases the number of connected components.

### Theorem 3.2 (Component Decomposition)

The connected components of a graph partition its vertex set into disjoint non-empty subsets.

**Proof:**

Define a relation $\sim$ on $V$ by: $u \sim v$ if there exists a path from $u$ to $v$.

This relation is:
- **Reflexive:** $u \sim u$ (path of length 0)
- **Symmetric:** If $u \sim v$, then $v \sim u$ (reverse the path)
- **Transitive:** If $u \sim v$ and $v \sim w$, then $u \sim w$ (concatenate paths)

Therefore, $\sim$ is an equivalence relation. The equivalence classes are precisely the connected components, forming a partition of $V$. $\square$

### Theorem 3.3 (Characterization of Trees)

For a graph $G$ with $n$ vertices, the following are equivalent:
1. $G$ is a tree (connected and acyclic)
2. $G$ is connected and has $n - 1$ edges
3. $G$ is connected and every edge is a bridge
4. Any two vertices are connected by exactly one simple path
5. $G$ is acyclic and has $n - 1$ edges

## Worked Examples

### Example 1 (Simple): Identifying Subgraphs

**Problem:** Given $G = (V, E)$ with $V = \{1, 2, 3, 4\}$ and $E = \{\{1,2\}, \{2,3\}, \{3,4\}, \{4,1\}, \{1,3\}\}$, determine which of the following are subgraphs of $G$:

(a) $H_1 = (\{1, 2, 3\}, \{\{1,2\}, \{2,3\}, \{1,3\}\})$

(b) $H_2 = (\{1, 3\}, \{\{1,2\}\})$

(c) $H_3 = (\{2, 3, 4\}, \{\{2,3\}, \{3,4\}\})$

**Solution:**

(a) Vertices $\{1, 2, 3\} \subseteq V$ ✓
Edges $\{\{1,2\}, \{2,3\}, \{1,3\}\} \subseteq E$ ✓
**Yes, $H_1 \subseteq G$** (also an induced subgraph)

(b) Vertices $\{1, 3\} \subseteq V$ ✓
Edge $\{1,2\}$ has endpoint 2, which is not in the vertex set
**No, not a valid subgraph**

(c) Vertices $\{2, 3, 4\} \subseteq V$ ✓
Edges $\{\{2,3\}, \{3,4\}\} \subseteq E$ ✓
**Yes, $H_3 \subseteq G$** (not induced, since $\{2,4\}$ is missing) $\square$

---

### Example 2 (Intermediate): Induced Subgraphs

**Problem:** For the graph $G$ from Example 1, find the induced subgraph $G[\{2, 3, 4\}]$.

**Solution:**

The vertex set is $S = \{2, 3, 4\}$.

Include all edges of $G$ with both endpoints in $S$:
- $\{2, 3\} \in E$ and both endpoints in $S$ ✓
- $\{3, 4\} \in E$ and both endpoints in $S$ ✓
- Check other edges: $\{1,2\}$ (no, 1 $\notin S$), $\{4,1\}$ (no), $\{1,3\}$ (no)

Therefore:
$$G[\{2, 3, 4\}] = (\{2, 3, 4\}, \{\{2,3\}, \{3,4\}\})$$

This is exactly $H_3$ from Example 1. $\square$

---

### Example 3 (Intermediate): Connected Components

**Problem:** Find all connected components of the graph:
$$V = \{1, 2, 3, 4, 5, 6, 7\}$$
$$E = \{\{1,2\}, \{2,3\}, \{4,5\}, \{6,7\}\}$$

**Solution:**

Use the equivalence relation approach: $u \sim v$ if there's a path between them.

Starting from vertex 1:
- $1 \sim 2$ (edge $\{1,2\}$)
- $1 \sim 3$ (path $1-2-3$)
- Therefore: Component 1 = $\{1, 2, 3\}$

From vertex 4:
- $4 \sim 5$ (edge $\{4,5\}$)
- Component 2 = $\{4, 5\}$

From vertex 6:
- $6 \sim 7$ (edge $\{6,7\}$)
- Component 3 = $\{6, 7\}$

**Answer:** Three connected components: $\{1, 2, 3\}$, $\{4, 5\}$, $\{6, 7\}$ $\square$

---

### Example 4 (Challenging): Minimum Edges for Connectivity

**Problem:** A graph has 12 vertices and 3 connected components. What is the minimum number of edges it can have?

**Solution:**

Let the components have $n_1, n_2, n_3$ vertices with $n_1 + n_2 + n_3 = 12$.

Each component with $n_i$ vertices requires at least $n_i - 1$ edges to be connected (Theorem 3.1).

Total minimum edges:
$$|E| \geq (n_1 - 1) + (n_2 - 1) + (n_3 - 1) = (n_1 + n_2 + n_3) - 3 = 12 - 3 = 9$$

This minimum is achieved when each component is a tree.

**Answer:** Minimum = 9 edges. $\square$

---

### Example 5 (Challenging): Cut Vertices

**Problem:** Prove that a vertex $v$ in a connected graph $G$ is a cut vertex if and only if there exist vertices $u$ and $w$ (distinct from $v$) such that every path from $u$ to $w$ contains $v$.

**Solution:**

**($\Rightarrow$) If $v$ is a cut vertex:**

By definition, $G - v$ is disconnected. Let $u$ and $w$ be in different components of $G - v$. In $G - v$, there is no path from $u$ to $w$.

In $G$, any path from $u$ to $w$ must pass through $v$ (since removing $v$ disconnects $u$ and $w$). ✓

**($\Leftarrow$) If every path from some $u$ to $w$ contains $v$:**

Remove $v$ from $G$. In $G - v$, there is no path from $u$ to $w$ (since all such paths in $G$ went through $v$).

Therefore, $u$ and $w$ are in different components of $G - v$, so $G - v$ is disconnected.

By definition, $v$ is a cut vertex. ✓ $\square$

---

### Example 6 (Advanced): Spanning Subgraph Construction

**Problem:** Given a connected graph $G$ with $n$ vertices and $m$ edges, how many different spanning trees can it have?

**Solution:**

This is a difficult problem in general. For specific graphs:

- **Complete graph $K_n$:** By Cayley's formula, $K_n$ has $n^{n-2}$ spanning trees.

  For $K_4$: $4^{4-2} = 4^2 = 16$ spanning trees.

- **Cycle $C_n$:** $C_n$ has exactly $n$ spanning trees (remove any one of the $n$ edges).

- **Complete bipartite $K_{m,n}$:** Has $m^{n-1} \cdot n^{m-1}$ spanning trees.

**General formula:** Use the Matrix-Tree Theorem, which computes spanning trees via determinants of the Laplacian matrix.

For specific small graphs, enumeration is feasible. $\square$

## Applications and Intuition

### Network Reliability

**Connected components:** Identify isolated subnetworks in a communication system.

**Cut vertices and bridges:** Critical points whose failure disconnects the network. Robust networks avoid single points of failure.

**Vertex/edge connectivity:** Measure network resilience. Higher connectivity = more robust.

### Social Network Analysis

**Connected components:** Identify isolated communities or cliques within a social network.

**Distance and diameter:** Measure how quickly information spreads. Small diameter = fast dissemination (small-world phenomenon).

### Computer Science

**Graph traversal algorithms:** BFS and DFS identify connected components efficiently.

**Spanning trees:** Minimal connectivity structures for routing, broadcasting, network design.

**Induced subgraphs:** Extract relevant portions of large graphs for analysis.

### Circuit Design

**Cut vertices:** Identify critical components whose failure breaks the circuit.

**Spanning subgraphs:** Simplify complex circuits while preserving connectivity.

## Exercises

### Exercise 1

How many vertices and edges does the induced subgraph $G[\{a, b, c\}]$ have if $G$ has edges $\{a,b\}, \{b,c\}, \{c,d\}, \{a,d\}$?

**Hint:** Include only edges with both endpoints in $\{a, b, c\}$.

**Solution:**
Vertices: 3 (a, b, c)

Edges: $\{a,b\}, \{b,c\}$ (both endpoints in the set). Edge $\{c,d\}$ excluded (d not in set), $\{a,d\}$ excluded.

**Answer:** 3 vertices, 2 edges.

---

### Exercise 2

A graph has 15 vertices and 20 edges. What is the maximum number of connected components it can have?

**Hint:** Each component needs at least one vertex and at least $n_i - 1$ edges to connect $n_i$ vertices.

**Solution:**
To maximize components, minimize edges per component. Single-vertex components use 0 edges.

If we have $k$ components with 1 vertex each and 1 component with the rest:
- $k$ components: 0 edges total
- 1 component with $15 - k$ vertices: at least $(15 - k) - 1 = 14 - k$ edges

Total edges: $14 - k \leq 20$, so $k \leq 6$.

But we can verify: 6 isolated vertices + 1 component with 9 vertices having 20 edges (≤ $\binom{9}{2} = 36$) ✓

**Answer:** Maximum = 7 components.

---

### Exercise 3

Prove that a graph is connected if and only if it has a spanning tree.

**Hint:** Use Theorem 3.3.

**Solution:**
($\Rightarrow$) If $G$ is connected, repeatedly remove edges that create cycles until no cycles remain. The result is a spanning tree (connected, acyclic, same vertices).

($\Leftarrow$) If $G$ has a spanning tree $T$, then $T$ is connected and $T \subseteq G$, so $G$ is connected. $\square$

---

### Exercise 4

Find the diameter of the cycle graph $C_n$.

**Hint:** Maximum distance between any two vertices on a cycle.

**Solution:**
In a cycle of $n$ vertices, the maximum distance between two vertices is achieved by vertices directly opposite.

For even $n$: $\text{diam}(C_n) = \frac{n}{2}$

For odd $n$: $\text{diam}(C_n) = \lfloor \frac{n}{2} \rfloor$

**Answer:** $\text{diam}(C_n) = \lfloor \frac{n}{2} \rfloor$

---

### Exercise 5

Determine all cut vertices and bridges in the graph:
$$V = \{1, 2, 3, 4, 5\}, \quad E = \{\{1,2\}, \{2,3\}, \{3,1\}, \{3,4\}, \{4,5\}\}$$

**Hint:** Test removal of each vertex/edge.

**Solution:**
**Cut vertices:**
- Remove vertex 3: Disconnects $\{1, 2\}$ from $\{4, 5\}$. **3 is a cut vertex.**
- Remove vertex 4: Disconnects $\{1, 2, 3\}$ from $\{5\}$. **4 is a cut vertex.**

**Bridges:**
- Edge $\{3, 4\}$: Removal disconnects the triangle from the path $4-5$. **Bridge.**
- Edge $\{4, 5\}$: Removal disconnects 5. **Bridge.**

**Answer:** Cut vertices: {3, 4}; Bridges: $\{\{3,4\}, \{4,5\}\}$

---

### Exercise 6 (Challenge)

Prove that in a connected graph, the distance function $d(u, v)$ satisfies the triangle inequality:
$$d(u, w) \leq d(u, v) + d(v, w)$$

**Hint:** Use the definition of distance as shortest path length.

**Solution:**
Let $P_1$ be a shortest path from $u$ to $v$ with length $d(u, v)$.

Let $P_2$ be a shortest path from $v$ to $w$ with length $d(v, w)$.

Concatenate $P_1$ and $P_2$ to form a path from $u$ to $w$ with length $d(u, v) + d(v, w)$.

Since $d(u, w)$ is the *shortest* path length from $u$ to $w$:
$$d(u, w) \leq d(u, v) + d(v, w)$$ $\square$

---

### Exercise 7 (Challenge)

A connected graph has $n$ vertices, $n + 5$ edges, and no multiple edges. What can you conclude about the graph?

**Hint:** Compare to minimum and maximum edges.

**Solution:**
A connected graph with $n$ vertices has at least $n - 1$ edges (tree) and at most $\binom{n}{2} = \frac{n(n-1)}{2}$ edges (complete graph).

Given $n + 5$ edges:
$$n - 1 \leq n + 5 \leq \frac{n(n-1)}{2}$$

The first inequality is always satisfied.

The second gives:
$$n + 5 \leq \frac{n(n-1)}{2}$$
$$2n + 10 \leq n^2 - n$$
$$0 \leq n^2 - 3n - 10 = (n - 5)(n + 2)$$

For $n \geq 5$, this holds. For $n < 5$, check individually.

The graph has 6 "extra" edges beyond the minimum ($n - 1$), so it contains at least 6 independent cycles.

**Answer:** The graph is connected, contains cycles, and requires $n \geq 5$ for simple graph structure.

## Common Mistakes and Misconceptions

1. **Induced vs. spanning:** An induced subgraph fixes vertices and includes all relevant edges. A spanning subgraph fixes vertices but may omit edges.

2. **Connected vs. complete:** Connected means paths exist; complete means all edges exist. Very different!

3. **Components partition vertices, not edges:** Each vertex is in exactly one component, but edges between components don't exist.

4. **Cut vertex vs. bridge:** Removing a cut vertex may disconnect the graph; removing a bridge always increases components by exactly 1.

5. **Minimum edges for connectivity:** $n - 1$ edges are necessary and sufficient for a connected graph with $n$ vertices.

## Summary and Key Takeaways

1. **Subgraph:** $H \subseteq G$ if vertices and edges of $H$ are subsets of those in $G$.

2. **Induced subgraph:** $G[S]$ contains all edges of $G$ with both endpoints in $S$.

3. **Spanning subgraph:** Contains all vertices of $G$, possibly fewer edges.

4. **Connected graph:** Path exists between every pair of vertices.

5. **Connected component:** Maximal connected subgraph; components partition the vertex set.

6. **Minimum edges:** A connected graph with $n$ vertices has at least $n - 1$ edges.

7. **Cut vertices and bridges:** Critical elements whose removal disconnects the graph.

8. **Applications:** Network reliability, social network analysis, circuit design, algorithm design.

---

**Further Study:** Explore strongly connected components in directed graphs, graph decomposition algorithms (DFS for bridges/cut vertices), and advanced connectivity (k-connectivity, Menger's theorem).
