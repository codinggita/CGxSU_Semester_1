# JavaScript Operators: Complete Guide from Basics to Advanced

**Difficulty:** Introductory to Intermediate
**Estimated Time:** 60-90 minutes
**Prerequisites:** Variables and Data Types, Basic JavaScript syntax
**Node.js Version:** 18.0.0+ LTS
**Browser Targets:** Chrome 90+, Firefox 88+, Safari 14+, Edge 90+

---

## Learning Objectives

By the end of this lesson, you will be able to:

1. **Apply** all JavaScript operator categories (arithmetic, assignment, comparison, logical, bitwise, unary) correctly in code
2. **Distinguish** between loose (`==`) and strict (`===`) equality and explain when to use each
3. **Leverage** modern operators (optional chaining, nullish coalescing) to write safer, more concise code
4. **Evaluate** complex expressions using operator precedence and associativity rules
5. **Implement** short-circuit evaluation for efficient conditional logic and default values
6. **Debug** operator-related errors using systematic approaches and testing strategies
7. **Compose** operator combinations to solve real-world programming challenges

---

## Table of Contents

1. [What are Operators?](#what-are-operators)
2. [Arithmetic Operators](#arithmetic-operators)
3. [Assignment Operators](#assignment-operators)
4. [Comparison Operators](#comparison-operators)
5. [Logical Operators](#logical-operators)
6. [Bitwise Operators](#bitwise-operators)
7. [Unary Operators](#unary-operators)
8. [Ternary Conditional Operator](#ternary-conditional-operator)
9. [Modern JavaScript Operators](#modern-javascript-operators)
10. [Operator Precedence and Associativity](#operator-precedence-and-associativity)
11. [Short-Circuit Evaluation](#short-circuit-evaluation)
12. [Worked Examples](#worked-examples)
13. [Hands-on Exercises](#hands-on-exercises)
14. [Common Pitfalls & Debugging](#common-pitfalls--debugging)
15. [Testing Operators](#testing-operators)
16. [Practical Applications](#practical-applications)
17. [Summary & Next Steps](#summary--next-steps)
18. [References](#references)

---

## What are Operators?

### Formal Definition

**Operators** are special symbols or keywords that perform operations on one or more operands (values or variables) and produce a result. They are fundamental building blocks for constructing expressions and implementing program logic.

**Anatomy of an operation:**
```javascript
// Binary operator (two operands)
result = operand1 operator operand2;
result = 5 + 3;  // operand1: 5, operator: +, operand2: 3, result: 8

// Unary operator (one operand)
result = operator operand;
result = -5;  // operator: -, operand: 5, result: -5

// Ternary operator (three operands)
result = condition ? value1 : value2;
result = (age >= 18) ? 'adult' : 'minor';
```

### Operator Classification

JavaScript operators are classified by:

1. **Number of operands:**
   - Unary (1 operand): `!`, `++`, `typeof`
   - Binary (2 operands): `+`, `-`, `===`, `&&`
   - Ternary (3 operands): `? :`

2. **Functionality:**
   - Arithmetic, Assignment, Comparison, Logical, Bitwise, Special

3. **Position relative to operand:**
   - Prefix: `++x`, `--x`
   - Postfix: `x++`, `x--`
   - Infix: `x + y`, `x === y`

---

## Arithmetic Operators

Arithmetic operators perform mathematical calculations on numeric operands.

### Basic Arithmetic

| Operator | Name | Example | Result | Description |
|----------|------|---------|--------|-------------|
| `+` | Addition | `5 + 3` | `8` | Sum of operands |
| `-` | Subtraction | `5 - 3` | `2` | Difference of operands |
| `*` | Multiplication | `5 * 3` | `15` | Product of operands |
| `/` | Division | `15 / 3` | `5` | Quotient of operands |
| `%` | Modulus (Remainder) | `17 % 5` | `2` | Remainder after division |
| `**` | Exponentiation | `2 ** 3` | `8` | Base to the power of exponent |

### Implementation and Behavior

```javascript
/**
 * Arithmetic Operations Demo
 *
 * Demonstrates:
 * - All arithmetic operators
 * - Type coercion behavior
 * - Edge cases (Infinity, NaN)
 */

// --- Basic operations ---
const a = 10;
const b = 3;

console.log(a + b);   // 13 (addition)
console.log(a - b);   // 7 (subtraction)
console.log(a * b);   // 30 (multiplication)
console.log(a / b);   // 3.3333... (floating-point division)
console.log(a % b);   // 1 (remainder: 10 = 3*3 + 1)
console.log(a ** b);  // 1000 (10 cubed)

// --- Special cases ---
console.log(10 / 0);        // Infinity
console.log(-10 / 0);       // -Infinity
console.log(0 / 0);         // NaN (Not a Number)
console.log('5' + 3);       // '53' (string concatenation)
console.log('5' - 3);       // 2 (string coerced to number)
console.log('5' * 2);       // 10 (string coerced to number)
console.log('hello' - 3);   // NaN (invalid coercion)

// --- Modulus use cases ---
const isEven = num => num % 2 === 0;
console.log(isEven(4));  // true
console.log(isEven(7));  // false

// Circular array indexing
const colors = ['red', 'green', 'blue'];
const index = 5;
console.log(colors[index % colors.length]);  // 'blue' (5 % 3 = 2)
```

### Type Coercion Rules

```javascript
// Number + Number = Number (addition)
console.log(5 + 3);  // 8

// String + Any = String (concatenation)
console.log('5' + 3);      // '53'
console.log('Score: ' + 5); // 'Score: 5'

// Other operators: String → Number
console.log('10' - 5);   // 5
console.log('10' * 2);   // 20
console.log('10' / 2);   // 5
console.log('10' % 3);   // 1

// Explicit conversion (recommended)
console.log(Number('10') + 5);  // 15
console.log(parseInt('10') + 5); // 15
```

---

## Assignment Operators

Assignment operators assign values to variables.

### Basic Assignment

| Operator | Example | Equivalent To | Description |
|----------|---------|---------------|-------------|
| `=` | `x = 5` | - | Assigns value |
| `+=` | `x += 3` | `x = x + 3` | Add and assign |
| `-=` | `x -= 3` | `x = x - 3` | Subtract and assign |
| `*=` | `x *= 3` | `x = x * 3` | Multiply and assign |
| `/=` | `x /= 3` | `x = x / 3` | Divide and assign |
| `%=` | `x %= 3` | `x = x % 3` | Modulus and assign |
| `**=` | `x **= 3` | `x = x ** 3` | Exponentiate and assign |

### Compound Assignment Patterns

```javascript
// --- Standard assignment ---
let score = 0;

// --- Compound assignment ---
score += 10;   // score = 10 (0 + 10)
score += 5;    // score = 15 (10 + 5)
score *= 2;    // score = 30 (15 * 2)
score /= 3;    // score = 10 (30 / 3)
score %= 7;    // score = 3 (10 % 7)
score **= 2;   // score = 9 (3²)

// --- Chained assignment ---
let x, y, z;
x = y = z = 10;  // All assigned 10 (right-to-left evaluation)
console.log(x, y, z);  // 10 10 10

// --- Assignment with destructuring ---
let [first, second] = [1, 2];
[first, second] = [second, first];  // Swap values
console.log(first, second);  // 2 1

// --- Logical assignment (ES2021) ---
let count;
count ??= 0;  // Assign 0 if count is null/undefined
count ||= 5;  // Assign 5 if count is falsy
count &&= 10; // Assign 10 if count is truthy

console.log(count);  // 10
```

---

## Comparison Operators

Comparison operators compare two values and return a boolean (`true` or `false`).

### Equality Operators

| Operator | Name | Example | Result | Type Checking |
|----------|------|---------|--------|---------------|
| `==` | Loose Equality | `5 == '5'` | `true` | No (coerces types) |
| `===` | Strict Equality | `5 === '5'` | `false` | Yes |
| `!=` | Loose Inequality | `5 != '5'` | `false` | No |
| `!==` | Strict Inequality | `5 !== '5'` | `true` | Yes |

### Relational Operators

| Operator | Name | Example | Result |
|----------|------|---------|--------|
| `>` | Greater than | `5 > 3` | `true` |
| `<` | Less than | `5 < 3` | `false` |
| `>=` | Greater than or equal | `5 >= 5` | `true` |
| `<=` | Less than or equal | `5 <= 3` | `false` |

### Equality Comparison Rules

```javascript
/**
 * Equality Comparison Demonstration
 *
 * Best Practice: ALWAYS use === and !==
 */

// --- Loose equality (== / !=) - AVOID ---
console.log(5 == '5');        // true (type coercion)
console.log(true == 1);       // true
console.log(false == 0);      // true
console.log('' == false);     // true
console.log(null == undefined); // true
console.log(0 == false);      // true
console.log('0' == false);    // true

// --- Strict equality (=== / !==) - RECOMMENDED ---
console.log(5 === '5');       // false (different types)
console.log(true === 1);      // false
console.log(null === undefined); // false
console.log(0 === false);     // false

// --- Object comparison (reference equality) ---
const obj1 = { id: 1 };
const obj2 = { id: 1 };
const obj3 = obj1;

console.log(obj1 === obj2);  // false (different references)
console.log(obj1 === obj3);  // true (same reference)

// --- Special values ---
console.log(NaN === NaN);    // false (NaN never equals itself!)
console.log(Number.isNaN(NaN)); // true (correct way to check NaN)

console.log(Object.is(NaN, NaN));  // true (ES6 method)
console.log(Object.is(+0, -0));    // false (distinguishes +0 and -0)
console.log(+0 === -0);            // true (=== doesn't distinguish)
```

### Relational Comparison

```javascript
// --- Numeric comparison ---
console.log(10 > 5);    // true
console.log(10 < 5);    // false
console.log(10 >= 10);  // true
console.log(10 <= 5);   // false

// --- String comparison (lexicographic/alphabetical) ---
console.log('apple' < 'banana');  // true (a < b)
console.log('apple' > 'Apple');   // true (lowercase > uppercase)
console.log('2' > '12');          // true (character-by-character: '2' > '1')

// --- Mixed type comparison (coercion) ---
console.log('10' > 5);   // true ('10' converted to 10)
console.log('10' < 20);  // true

// --- Safe comparison with explicit conversion ---
const compareNumbers = (a, b) => Number(a) > Number(b);
console.log(compareNumbers('2', '12'));  // false (correct numeric comparison)
```

---

## Logical Operators

Logical operators combine or invert boolean values (and work with truthy/falsy values).

### Core Logical Operators

| Operator | Name | Example | Result | Description |
|----------|------|---------|--------|-------------|
| `&&` | AND | `true && false` | `false` | True if both are true |
| `\|\|` | OR | `true \|\| false` | `true` | True if at least one is true |
| `!` | NOT | `!true` | `false` | Inverts boolean value |

### Truth Tables

```javascript
// --- AND (&&) truth table ---
console.log(true && true);    // true
console.log(true && false);   // false
console.log(false && true);   // false
console.log(false && false);  // false

// --- OR (||) truth table ---
console.log(true || true);    // true
console.log(true || false);   // true
console.log(false || true);   // true
console.log(false || false);  // false

// --- NOT (!) truth table ---
console.log(!true);   // false
console.log(!false);  // true
```

### Truthy and Falsy Values

```javascript
/**
 * Truthy/Falsy Evaluation
 *
 * Falsy values: false, 0, -0, 0n, '', null, undefined, NaN
 * Everything else is truthy (including [], {}, '0', 'false')
 */

// --- Falsy values ---
const falsyValues = [false, 0, -0, 0n, '', null, undefined, NaN];
falsyValues.forEach(val => {
  console.log(val, '→', Boolean(val));  // All convert to false
});

// --- Truthy values ---
const truthyValues = [true, 1, -1, 'hello', ' ', [], {}, Infinity];
truthyValues.forEach(val => {
  console.log(val, '→', Boolean(val));  // All convert to true
});

// --- Practical usage ---
const username = '';
if (username) {
  console.log(`Welcome, ${username}`);
} else {
  console.log('Please enter a username');  // This executes
}

// Common mistake: checking array/object emptiness
const emptyArray = [];
if (emptyArray) {
  console.log('Array is truthy!');  // Always executes (arrays are truthy)
}
if (emptyArray.length > 0) {
  console.log('Array has elements');  // Correct check
}
```

### Logical Operator Patterns

```javascript
// --- Access control ---
const user = { role: 'admin', verified: true };
const canAccess = user.role === 'admin' && user.verified;
console.log(canAccess);  // true

// --- Form validation ---
const email = 'user@example.com';
const password = 'secret123';
const isValid = email.includes('@') && password.length >= 8;
console.log(isValid);  // true

// --- Multiple condition checks ---
const age = 25;
const isAdult = age >= 18 && age < 65;
const isSenior = age >= 65;
const isMinor = !isAdult && !isSenior;

// --- Negation ---
const isLoggedIn = false;
const showLogin = !isLoggedIn;  // true
```

---

## Bitwise Operators

Bitwise operators perform operations on binary representations of numbers (32-bit integers).

### Bitwise Operator Table

| Operator | Name | Example | Binary | Result | Description |
|----------|------|---------|--------|--------|-------------|
| `&` | AND | `5 & 3` | `0101 & 0011` | `1` | Bits set in both |
| `\|` | OR | `5 \| 3` | `0101 \| 0011` | `7` | Bits set in either |
| `^` | XOR | `5 ^ 3` | `0101 ^ 0011` | `6` | Bits set in one, not both |
| `~` | NOT | `~5` | `~0101` | `-6` | Inverts all bits |
| `<<` | Left shift | `5 << 1` | `0101 << 1` | `10` | Shift bits left |
| `>>` | Right shift | `5 >> 1` | `0101 >> 1` | `2` | Shift bits right (sign-preserving) |
| `>>>` | Zero-fill right shift | `-5 >>> 1` | - | Large positive | Shift right (zero-fill) |

### Bitwise Operations

```javascript
/**
 * Bitwise Operations Demonstration
 *
 * Use cases: Permissions, flags, optimization
 */

// --- Basic bitwise operations ---
const a = 5;  // 0101 in binary
const b = 3;  // 0011 in binary

console.log(a & b);   // 1 (0001) - AND
console.log(a | b);   // 7 (0111) - OR
console.log(a ^ b);   // 6 (0110) - XOR
console.log(~a);      // -6 (inverts all bits, two's complement)

// --- Bit shifting ---
console.log(5 << 1);  // 10 (multiply by 2)
console.log(5 << 2);  // 20 (multiply by 4)
console.log(5 >> 1);  // 2 (divide by 2, floor)
console.log(20 >> 2); // 5 (divide by 4, floor)

// --- Practical: Permission flags ---
const READ = 1;      // 001
const WRITE = 2;     // 010
const EXECUTE = 4;   // 100

let permissions = 0;
permissions |= READ;    // Add READ permission
permissions |= WRITE;   // Add WRITE permission
console.log(permissions);  // 3 (011)

const canRead = (permissions & READ) !== 0;    // true
const canWrite = (permissions & WRITE) !== 0;  // true
const canExecute = (permissions & EXECUTE) !== 0; // false

permissions &= ~WRITE;  // Remove WRITE permission
console.log(permissions);  // 1 (001)

// --- Practical: Toggle boolean ---
let flag = 0;
flag ^= 1;  // Toggle: 0 → 1
console.log(flag);  // 1
flag ^= 1;  // Toggle: 1 → 0
console.log(flag);  // 0

// --- Practical: Check if power of 2 ---
const isPowerOfTwo = num => num > 0 && (num & (num - 1)) === 0;
console.log(isPowerOfTwo(8));   // true (1000 & 0111 = 0)
console.log(isPowerOfTwo(10));  // false
```

---

## Unary Operators

Unary operators operate on a single operand.

### Unary Operator Table

| Operator | Name | Example | Description |
|----------|------|---------|-------------|
| `++` | Increment | `x++` or `++x` | Increase by 1 |
| `--` | Decrement | `x--` or `--x` | Decrease by 1 |
| `+` | Unary plus | `+x` | Convert to number |
| `-` | Unary negation | `-x` | Negate number |
| `!` | Logical NOT | `!x` | Invert boolean |
| `typeof` | Type check | `typeof x` | Return type string |
| `delete` | Delete property | `delete obj.prop` | Remove object property |
| `void` | Evaluate to undefined | `void x` | Return undefined |

### Increment and Decrement

```javascript
/**
 * Increment/Decrement Operators
 *
 * Prefix vs Postfix behavior
 */

// --- Postfix (x++) - returns old value, then increments ---
let count = 5;
console.log(count++);  // 5 (returns 5, then count becomes 6)
console.log(count);    // 6

// --- Prefix (++x) - increments, then returns new value ---
count = 5;
console.log(++count);  // 6 (count becomes 6, then returns 6)
console.log(count);    // 6

// --- Practical difference in expressions ---
let a = 10;
let b = a++;  // b = 10, a = 11
console.log(a, b);  // 11 10

let x = 10;
let y = ++x;  // x = 11, y = 11
console.log(x, y);  // 11 11

// --- Common pattern in loops ---
for (let i = 0; i < 3; i++) {  // i++ increments after each iteration
  console.log(i);  // 0, 1, 2
}
```

### Type Conversion and Other Unary Operators

```javascript
// --- Unary plus (+) - convert to number ---
console.log(+'42');      // 42 (string → number)
console.log(+true);      // 1
console.log(+false);     // 0
console.log(+'hello');   // NaN

// --- Unary negation (-) - negate and convert to number ---
console.log(-'42');      // -42
console.log(-true);      // -1

// --- typeof operator ---
console.log(typeof 42);           // 'number'
console.log(typeof 'hello');      // 'string'
console.log(typeof true);         // 'boolean'
console.log(typeof undefined);    // 'undefined'
console.log(typeof null);         // 'object' (historical bug)
console.log(typeof {});           // 'object'
console.log(typeof []);           // 'object'
console.log(typeof function(){}); // 'function'
console.log(typeof Symbol());     // 'symbol'
console.log(typeof 123n);         // 'bigint'

// --- delete operator ---
const obj = { name: 'Alice', age: 30 };
delete obj.age;
console.log(obj);  // { name: 'Alice' }

// Cannot delete variables
let myVar = 10;
delete myVar;  // false (no effect on variables)
console.log(myVar);  // 10

// --- void operator (rarely used) ---
console.log(void 0);  // undefined
console.log(void (1 + 1));  // undefined (evaluates expression but returns undefined)
```

---

## Ternary Conditional Operator

The ternary operator (`? :`) is JavaScript's only ternary operator, providing inline conditional expressions.

### Syntax and Usage

```javascript
/**
 * Ternary Operator: condition ? valueIfTrue : valueIfFalse
 */

// --- Basic usage ---
const age = 20;
const status = age >= 18 ? 'adult' : 'minor';
console.log(status);  // 'adult'

// --- Equivalent to if-else ---
let status2;
if (age >= 18) {
  status2 = 'adult';
} else {
  status2 = 'minor';
}

// --- Nested ternary (use sparingly) ---
const score = 85;
const grade = score >= 90 ? 'A' :
              score >= 80 ? 'B' :
              score >= 70 ? 'C' :
              score >= 60 ? 'D' : 'F';
console.log(grade);  // 'B'

// --- Function return values ---
const getDiscount = age => age >= 65 ? 0.20 : age < 18 ? 0.10 : 0;
console.log(getDiscount(70));  // 0.20 (20% senior discount)
console.log(getDiscount(15));  // 0.10 (10% youth discount)
console.log(getDiscount(30));  // 0 (no discount)

// --- Conditional rendering (React-style pattern) ---
const isLoggedIn = true;
const username = 'Alice';
const message = isLoggedIn ? `Welcome, ${username}!` : 'Please log in';
console.log(message);  // 'Welcome, Alice!'

// --- Best practice: Avoid complex nesting ---
// ❌ AVOID: Hard to read
const result = a > b ? x > y ? 1 : 2 : x < y ? 3 : 4;

// ✅ BETTER: Use if-else for complex logic
let betterResult;
if (a > b) {
  betterResult = x > y ? 1 : 2;
} else {
  betterResult = x < y ? 3 : 4;
}
```

---

## Modern JavaScript Operators

ES2020+ introduced powerful new operators for safer and more concise code.

### Optional Chaining (`?.`)

```javascript
/**
 * Optional Chaining (?.)
 *
 * Safely access nested properties without throwing errors
 * Introduced: ES2020
 */

const user = {
  name: 'Alice',
  address: {
    city: 'New York',
  },
};

// --- Without optional chaining (error-prone) ---
// const zip = user.address.zipCode.code; // TypeError: Cannot read property 'code' of undefined

// --- With optional chaining (safe) ---
const zip = user.address?.zipCode?.code;
console.log(zip);  // undefined (no error)

// --- Method calls ---
const result = user.getName?.();  // undefined (method doesn't exist, no error)

// --- Array access ---
const firstUser = users?.[0];  // Safe array access

// --- Practical example ---
const getCity = user => user?.address?.city ?? 'Unknown';
console.log(getCity(user));  // 'New York'
console.log(getCity({}));    // 'Unknown'

// --- Dynamic property access ---
const propName = 'email';
const email = user?.[propName];  // undefined
```

### Nullish Coalescing (`??`)

```javascript
/**
 * Nullish Coalescing (??)
 *
 * Returns right operand when left is null or undefined (NOT other falsy values)
 * Introduced: ES2020
 */

// --- Difference from OR (||) ---
console.log(0 || 'default');       // 'default' (0 is falsy)
console.log(0 ?? 'default');       // 0 (0 is not null/undefined)

console.log('' || 'default');      // 'default' ('' is falsy)
console.log('' ?? 'default');      // '' ('' is not null/undefined)

console.log(false || 'default');   // 'default' (false is falsy)
console.log(false ?? 'default');   // false (false is not null/undefined)

console.log(null ?? 'default');    // 'default'
console.log(undefined ?? 'default'); // 'default'

// --- Practical: Configuration with default values ---
const config = {
  timeout: 0,        // Valid value (not missing)
  retries: null,     // Missing value
  debug: false,      // Valid value
};

// ❌ WRONG: Using ||
const timeout1 = config.timeout || 3000;   // 3000 (incorrect! 0 is valid)
const debug1 = config.debug || true;       // true (incorrect! false is valid)

// ✅ CORRECT: Using ??
const timeout2 = config.timeout ?? 3000;   // 0 (preserves valid 0)
const retries = config.retries ?? 3;       // 3 (replaces null)
const debug2 = config.debug ?? true;       // false (preserves valid false)

console.log({ timeout2, retries, debug2 }); // { timeout2: 0, retries: 3, debug2: false }
```

### Logical Assignment Operators (ES2021)

```javascript
/**
 * Logical Assignment Operators
 *
 * Combine logical operators with assignment
 * Introduced: ES2021
 */

// --- OR assignment (||=) ---
let message;
message ||= 'Default message';  // Assigns if falsy
console.log(message);  // 'Default message'

message = 'Hello';
message ||= 'Default';
console.log(message);  // 'Hello' (no change, already truthy)

// --- AND assignment (&&=) ---
let user = { name: 'Alice' };
user.name &&= user.name.toUpperCase();  // Assigns if truthy
console.log(user.name);  // 'ALICE'

// --- Nullish assignment (??=) ---
const settings = { theme: null, lang: 'en' };
settings.theme ??= 'dark';   // Assigns if null/undefined
settings.lang ??= 'es';      // No change (already defined)
console.log(settings);  // { theme: 'dark', lang: 'en' }

// --- Practical: Initialize properties ---
const obj = {};
obj.count ??= 0;
obj.items ??= [];
obj.enabled ??= true;
console.log(obj);  // { count: 0, items: [], enabled: true }
```

---

## Operator Precedence and Associativity

### Precedence Table (Highest to Lowest)

| Precedence | Operator Type | Operators | Associativity |
|------------|---------------|-----------|---------------|
| 20 | Grouping | `( )` | n/a |
| 19 | Member Access | `. []` | left-to-right |
| 18 | Function Call | `( )` | left-to-right |
| 17 | Postfix Increment | `++ --` | n/a |
| 16 | Prefix/Unary | `++ -- ! ~ + - typeof void delete` | right-to-left |
| 15 | Exponentiation | `**` | right-to-left |
| 14 | Multiplication/Division | `* / %` | left-to-right |
| 13 | Addition/Subtraction | `+ -` | left-to-right |
| 12 | Bitwise Shift | `<< >> >>>` | left-to-right |
| 11 | Relational | `< <= > >=` | left-to-right |
| 10 | Equality | `== != === !==` | left-to-right |
| 9 | Bitwise AND | `&` | left-to-right |
| 8 | Bitwise XOR | `^` | left-to-right |
| 7 | Bitwise OR | `\|` | left-to-right |
| 6 | Logical AND | `&&` | left-to-right |
| 5 | Logical OR | `\|\|` | left-to-right |
| 4 | Nullish Coalescing | `??` | left-to-right |
| 3 | Conditional | `? :` | right-to-left |
| 2 | Assignment | `= += -= *= /= %= **= &&= \|\|= ??=` | right-to-left |
| 1 | Comma | `,` | left-to-right |

### Practical Examples

```javascript
/**
 * Operator Precedence Examples
 */

// --- Arithmetic precedence ---
const result1 = 2 + 3 * 4;      // 14 (not 20)
// Explanation: * has higher precedence than +
// Evaluated as: 2 + (3 * 4) = 2 + 12 = 14

const result2 = (2 + 3) * 4;    // 20 (parentheses override)

// --- Exponentiation (right-to-left) ---
const result3 = 2 ** 3 ** 2;    // 512 (not 64)
// Explanation: ** is right-associative
// Evaluated as: 2 ** (3 ** 2) = 2 ** 9 = 512

const result4 = (2 ** 3) ** 2;  // 64

// --- Mixed operators ---
const result5 = 5 + 3 * 2 ** 2; // 17
// Explanation: ** > * > +
// Evaluated as: 5 + (3 * (2 ** 2)) = 5 + (3 * 4) = 5 + 12 = 17

// --- Comparison and logical ---
const result6 = 5 > 3 && 2 < 4;  // true
// Explanation: Comparison (>) executes before logical (&&)

const result7 = false || true && false;  // false
// Explanation: && has higher precedence than ||
// Evaluated as: false || (true && false) = false || false = false

// --- Assignment is lowest (except comma) ---
let x;
const result8 = x = 5 + 3;  // 8
console.log(x);  // 8 (assignment returns assigned value)

// --- Best practice: Use parentheses for clarity ---
const clear = ((5 + 3) * 2) / 4;  // Explicit grouping
```

---

## Short-Circuit Evaluation

JavaScript's logical operators use **short-circuit evaluation**: they stop evaluating as soon as the result is determined.

### How Short-Circuiting Works

```javascript
/**
 * Short-Circuit Evaluation
 *
 * && : Returns first falsy value OR last value if all truthy
 * || : Returns first truthy value OR last value if all falsy
 */

// --- AND (&&) short-circuit ---
console.log(false && expensiveOperation());  // false (never calls function)
console.log(true && expensiveOperation());   // Calls function

// Returns first falsy or last value
console.log(1 && 2 && 3);      // 3 (all truthy, returns last)
console.log(1 && 0 && 3);      // 0 (first falsy)
console.log(0 && unreachable); // 0 (never evaluates unreachable)

// --- OR (||) short-circuit ---
console.log(true || expensiveOperation());  // true (never calls function)
console.log(false || expensiveOperation()); // Calls function

// Returns first truthy or last value
console.log(0 || '' || 5);     // 5 (first truthy)
console.log(0 || '' || null);  // null (all falsy, returns last)
console.log(5 || unreachable); // 5 (never evaluates unreachable)
```

### Practical Applications

```javascript
// --- Default values ---
const setUserName = name => {
  const displayName = name || 'Guest';
  console.log(`Welcome, ${displayName}`);
};
setUserName('Alice');  // 'Welcome, Alice'
setUserName('');       // 'Welcome, Guest'

// --- Conditional execution ---
const user = { isAdmin: true };
user.isAdmin && console.log('Admin panel loaded');  // Executes

// --- Safe navigation (pre-optional chaining) ---
const getCity = user => user && user.address && user.address.city;

// --- Memoization pattern ---
let cache;
const getValue = () => cache || (cache = expensiveComputation());

// --- Guard clauses ---
const processUser = user => {
  user || console.error('User is required');
  user.verified || console.warn('User not verified');
  // Continue processing...
};
```

---

## Worked Examples

### Example 1: Expression Calculator (Simple - 30 lines)

```javascript
/**
 * Example 1: Expression Calculator
 *
 * Demonstrates:
 * - Arithmetic operators
 * - Operator precedence
 * - Type conversion
 */

const calculate = (expression) => {
  const operations = {
    add: (a, b) => a + b,
    subtract: (a, b) => a - b,
    multiply: (a, b) => a * b,
    divide: (a, b) => b !== 0 ? a / b : 'Error: Division by zero',
    modulus: (a, b) => a % b,
    power: (a, b) => a ** b,
  };

  const { operation, a, b } = expression;
  return operations[operation](a, b);
};

// --- Test cases ---
console.log(calculate({ operation: 'add', a: 5, b: 3 }));      // 8
console.log(calculate({ operation: 'multiply', a: 4, b: 7 })); // 28
console.log(calculate({ operation: 'power', a: 2, b: 10 }));   // 1024
console.log(calculate({ operation: 'divide', a: 10, b: 0 }));  // Error message

// --- Automated tests ---
import { expect } from 'vitest';
expect(calculate({ operation: 'add', a: 10, b: 5 })).toBe(15);
expect(calculate({ operation: 'subtract', a: 10, b: 3 })).toBe(7);
expect(calculate({ operation: 'divide', a: 10, b: 0 })).toBe('Error: Division by zero');
console.log('✓ Example 1: All tests passed');
```

### Example 2: Form Validator (Intermediate - 50 lines)

```javascript
/**
 * Example 2: Form Validation System
 *
 * Demonstrates:
 * - Comparison operators
 * - Logical operators
 * - Short-circuit evaluation
 * - Modern operators (??, ?.)
 */

const validateForm = formData => {
  const errors = [];

  // Email validation
  const email = formData?.email ?? '';
  const emailValid = email.includes('@') && email.includes('.');
  !emailValid && errors.push('Invalid email address');

  // Password validation
  const password = formData?.password ?? '';
  const passwordValid =
    password.length >= 8 &&
    /[A-Z]/.test(password) &&
    /[a-z]/.test(password) &&
    /[0-9]/.test(password);
  !passwordValid && errors.push('Password must be 8+ chars with upper, lower, and number');

  // Age validation
  const age = formData?.age ?? 0;
  const ageValid = age >= 18 && age <= 120;
  !ageValid && errors.push('Age must be between 18 and 120');

  // Terms acceptance
  const termsAccepted = formData?.termsAccepted ?? false;
  !termsAccepted && errors.push('You must accept the terms and conditions');

  return {
    isValid: errors.length === 0,
    errors,
  };
};

// --- Test cases ---
const validForm = {
  email: 'user@example.com',
  password: 'SecurePass123',
  age: 25,
  termsAccepted: true,
};

const invalidForm = {
  email: 'invalid-email',
  password: 'weak',
  age: 15,
};

console.log(validateForm(validForm));    // { isValid: true, errors: [] }
console.log(validateForm(invalidForm));  // { isValid: false, errors: [...] }

// --- Automated tests ---
expect(validateForm(validForm).isValid).toBe(true);
expect(validateForm(invalidForm).isValid).toBe(false);
expect(validateForm(invalidForm).errors.length).toBeGreaterThan(0);
console.log('✓ Example 2: All tests passed');
```

### Example 3: Permission Manager (Advanced - 60 lines)

```javascript
/**
 * Example 3: Bitwise Permission System
 *
 * Demonstrates:
 * - Bitwise operators for efficient flags
 * - Complex operator combinations
 * - Real-world application
 */

// Define permissions as bit flags
const PERMISSIONS = {
  READ: 1 << 0,     // 1 (binary: 001)
  WRITE: 1 << 1,    // 2 (binary: 010)
  DELETE: 1 << 2,   // 4 (binary: 100)
  ADMIN: 1 << 3,    // 8 (binary: 1000)
};

class PermissionManager {
  constructor(initialPermissions = 0) {
    this.permissions = initialPermissions;
  }

  // Grant permission
  grant(permission) {
    this.permissions |= permission;
    return this;
  }

  // Revoke permission
  revoke(permission) {
    this.permissions &= ~permission;
    return this;
  }

  // Check if has permission
  has(permission) {
    return (this.permissions & permission) === permission;
  }

  // Toggle permission
  toggle(permission) {
    this.permissions ^= permission;
    return this;
  }

  // Get all active permissions
  getActive() {
    const active = [];
    for (const [name, flag] of Object.entries(PERMISSIONS)) {
      if (this.has(flag)) active.push(name);
    }
    return active;
  }
}

// --- Usage example ---
const user = new PermissionManager();

user.grant(PERMISSIONS.READ)
    .grant(PERMISSIONS.WRITE);

console.log(user.has(PERMISSIONS.READ));   // true
console.log(user.has(PERMISSIONS.DELETE)); // false
console.log(user.getActive());             // ['READ', 'WRITE']

user.toggle(PERMISSIONS.WRITE);            // Remove WRITE
console.log(user.has(PERMISSIONS.WRITE));  // false

user.grant(PERMISSIONS.ADMIN);
console.log(user.getActive());             // ['READ', 'ADMIN']

// --- Automated tests ---
const testUser = new PermissionManager();
testUser.grant(PERMISSIONS.READ);
expect(testUser.has(PERMISSIONS.READ)).toBe(true);
expect(testUser.has(PERMISSIONS.WRITE)).toBe(false);

testUser.grant(PERMISSIONS.WRITE);
expect(testUser.has(PERMISSIONS.WRITE)).toBe(true);

testUser.revoke(PERMISSIONS.READ);
expect(testUser.has(PERMISSIONS.READ)).toBe(false);

console.log('✓ Example 3: All tests passed');
```

---

## Hands-on Exercises

### Exercise 1: Arithmetic Calculator (Easy)

**Task:** Create a calculator function that handles all arithmetic operations with proper error handling.

**Requirements:**
- Support: addition, subtraction, multiplication, division, modulus, exponentiation
- Handle division by zero
- Validate inputs are numbers
- Return descriptive error messages

**Starter Code:**
```javascript
const calculator = (operation, a, b) => {
  // Your implementation here
};

// Test cases
console.log(calculator('add', 5, 3));       // Should return 8
console.log(calculator('divide', 10, 0));   // Should return error message
console.log(calculator('power', 2, 8));     // Should return 256
```

**Solution:** See `solutions/exercise-01-calculator.js`

---

### Exercise 2: Comparison Master (Easy-Medium)

**Task:** Write functions to compare values using different comparison strategies.

**Requirements:**
- `looseCompare(a, b)` - using `==`
- `strictCompare(a, b)` - using `===`
- `deepCompare(obj1, obj2)` - compare object properties
- Document differences in behavior

**Starter Code:**
```javascript
const looseCompare = (a, b) => {
  // Your implementation
};

const strictCompare = (a, b) => {
  // Your implementation
};

const deepCompare = (obj1, obj2) => {
  // Your implementation
};
```

**Solution:** See `solutions/exercise-02-comparison.js`

---

### Exercise 3: Smart Default Values (Medium)

**Task:** Implement a configuration merger that uses modern operators to handle defaults intelligently.

**Requirements:**
- Use `??` for nullish defaults
- Use `?.` for safe property access
- Handle nested objects
- Preserve valid falsy values (0, false, '')

**Starter Code:**
```javascript
const mergeConfig = (userConfig, defaults) => {
  // Use ??, ?., and other operators
  // Return merged configuration
};

const defaults = {
  timeout: 3000,
  retries: 3,
  debug: false,
};

const userConfig = {
  timeout: 0,        // Should be preserved (not replaced)
  retries: null,     // Should use default
};

console.log(mergeConfig(userConfig, defaults));
// Expected: { timeout: 0, retries: 3, debug: false }
```

**Solution:** See `solutions/exercise-03-smart-defaults.js`

---

### Exercise 4: Logical Expression Evaluator (Medium-Hard)

**Task:** Build a system that evaluates complex logical expressions with proper short-circuit behavior.

**Requirements:**
- Support AND, OR, NOT operations
- Implement short-circuit evaluation
- Handle nested expressions
- Track which operands were evaluated

**Example:**
```javascript
const evaluate = expression => {
  // Your implementation
};

const result = evaluate({
  type: 'AND',
  operands: [
    { type: 'VALUE', value: false },
    { type: 'VALUE', value: expensiveComputation() }, // Should not execute
  ],
});
```

**Solution:** See `solutions/exercise-04-logical-evaluator.js`

---

### Exercise 5: Operator Precedence Quiz Builder (Hard)

**Task:** Create a quiz system that tests understanding of operator precedence.

**Requirements:**
- Generate random expressions
- Evaluate using JavaScript's precedence rules
- Allow user to predict result
- Explain evaluation order
- Track score

**Solution:** See `solutions/exercise-05-precedence-quiz.js`

---

### Exercise 6: Feature Flag System (Hard)

**Task:** Build a comprehensive feature flag system using bitwise operators.

**Requirements:**
- Define 10+ feature flags
- Support enable, disable, check, toggle operations
- Implement role-based permissions
- Export/import flag states
- Performance optimization using bitwise ops

**Solution:** See `solutions/exercise-06-feature-flags.js`

---

## Common Pitfalls & Debugging

### Pitfall 1: Type Coercion with `+` Operator

**Problem:**
```javascript
console.log('5' + 3);   // '53' (string concatenation, not 8)
console.log(5 + '3');   // '53'
console.log('5' + 3 + 2); // '532' (left-to-right evaluation)
console.log(2 + 3 + '5'); // '55' (2+3=5, then 5+'5'='55')
```

**Solution:**
```javascript
// Explicit conversion
console.log(Number('5') + 3);    // 8
console.log(parseInt('5') + 3);  // 8
console.log(+'5' + 3);           // 8 (unary plus)

// Or ensure both are numbers
const add = (a, b) => Number(a) + Number(b);
console.log(add('5', 3));  // 8
```

---

### Pitfall 2: NaN Comparisons

**Problem:**
```javascript
const result = 0 / 0;  // NaN
console.log(result === NaN);     // false (NaN never equals itself!)
console.log(result == NaN);      // false
console.log(typeof result);      // 'number'
```

**Solution:**
```javascript
console.log(Number.isNaN(result));    // true (recommended)
console.log(isNaN(result));           // true (global function, coerces)
console.log(Object.is(result, NaN));  // true (ES6 method)

// Be careful with isNaN (coerces to number first)
console.log(isNaN('hello'));         // true (coercion makes it NaN)
console.log(Number.isNaN('hello'));  // false (no coercion, 'hello' !== NaN)
```

---

### Pitfall 3: Increment Operator in Expressions

**Problem:**
```javascript
let x = 5;
let result = x++ + x++;  // Confusing!
console.log(result);  // 11 (5 + 6)
console.log(x);       // 7
```

**Solution:**
```javascript
// Write clearly
let x = 5;
let a = x;  // 5
x++;        // 6
let b = x;  // 6
x++;        // 7
let result = a + b;  // 11
```

---

### Pitfall 4: Bitwise vs Logical Operators

**Problem:**
```javascript
// Mixing up & with &&, | with ||
if (5 & 3) {  // 1 (truthy), but probably meant &&
  console.log('Executes');
}

if (0 | 2) {  // 2 (truthy), but probably meant ||
  console.log('Executes');
}
```

**Solution:**
```javascript
// Use correct operators
if (5 && 3) {    // Logical AND
  console.log('Both truthy');
}

if (0 || 2) {    // Logical OR
  console.log('At least one truthy');
}

// Bitwise only for bit manipulation
const flags = FLAG_A | FLAG_B;  // Combine flags
const hasFlag = (flags & FLAG_A) !== 0;  // Check flag
```

---

### Pitfall 5: Precedence Confusion

**Problem:**
```javascript
console.log(5 + 3 * 2);       // 11 (not 16)
console.log(false || true && false);  // false (not true)
```

**Solution:**
```javascript
// Use parentheses for clarity
console.log(5 + (3 * 2));     // 11 (explicit)
console.log((5 + 3) * 2);     // 16 (changed intent)

console.log(false || (true && false));  // false (explicit)
console.log((false || true) && false);  // false (changed intent)
```

---

### Debugging Strategies

```javascript
// 1. Log operator results
const debug = (label, value) => {
  console.log(`[DEBUG] ${label}:`, value, `(${typeof value})`);
  return value;
};

const result = debug('a', 5) + debug('b', '3');  // Reveals type issue

// 2. Break complex expressions
// Instead of:
const result = a + b * c / d - e;

// Write:
const step1 = b * c;
const step2 = step1 / d;
const step3 = a + step2;
const result = step3 - e;

// 3. Use parentheses generously
const clear = ((a + b) * c) / (d - e);  // No ambiguity

// 4. Validate types before operations
const safeAdd = (a, b) => {
  if (typeof a !== 'number' || typeof b !== 'number') {
    throw new TypeError('Both arguments must be numbers');
  }
  return a + b;
};
```

---

## Testing Operators

### Unit Testing Operator Behavior

```javascript
import { describe, it, expect } from 'vitest';

describe('Operator Behavior Tests', () => {
  describe('Arithmetic Operators', () => {
    it('should perform basic arithmetic correctly', () => {
      expect(5 + 3).toBe(8);
      expect(5 - 3).toBe(2);
      expect(5 * 3).toBe(15);
      expect(15 / 3).toBe(5);
      expect(17 % 5).toBe(2);
      expect(2 ** 3).toBe(8);
    });

    it('should handle division by zero', () => {
      expect(10 / 0).toBe(Infinity);
      expect(-10 / 0).toBe(-Infinity);
      expect(Number.isNaN(0 / 0)).toBe(true);
    });

    it('should handle type coercion', () => {
      expect('5' + 3).toBe('53');
      expect('5' - 3).toBe(2);
      expect('5' * 2).toBe(10);
    });
  });

  describe('Comparison Operators', () => {
    it('should use strict equality correctly', () => {
      expect(5 === 5).toBe(true);
      expect(5 === '5').toBe(false);
      expect(null === undefined).toBe(false);
    });

    it('should handle object comparison', () => {
      const obj1 = { id: 1 };
      const obj2 = { id: 1 };
      const obj3 = obj1;

      expect(obj1 === obj2).toBe(false);
      expect(obj1 === obj3).toBe(true);
    });
  });

  describe('Logical Operators', () => {
    it('should short-circuit correctly', () => {
      let called = false;
      const fn = () => { called = true; return true; };

      false && fn();
      expect(called).toBe(false);

      true || fn();
      expect(called).toBe(false);
    });

    it('should return non-boolean values', () => {
      expect(0 || 5).toBe(5);
      expect(5 && 10).toBe(10);
      expect(0 && 10).toBe(0);
    });
  });

  describe('Modern Operators', () => {
    it('should use nullish coalescing correctly', () => {
      expect(0 ?? 5).toBe(0);
      expect(null ?? 5).toBe(5);
      expect(undefined ?? 5).toBe(5);
      expect('' ?? 5).toBe('');
    });

    it('should use optional chaining safely', () => {
      const obj = { a: { b: { c: 42 } } };
      expect(obj?.a?.b?.c).toBe(42);
      expect(obj?.x?.y?.z).toBe(undefined);
    });
  });
});
```

---

## Practical Applications

### Application 1: Price Calculator with Discounts

```javascript
/**
 * Real-world application: E-commerce pricing
 */

const calculatePrice = (basePrice, quantity, discountCode) => {
  // Validate inputs
  if (basePrice <= 0 || quantity <= 0) {
    return { error: 'Invalid price or quantity' };
  }

  // Calculate subtotal
  const subtotal = basePrice * quantity;

  // Volume discount (using comparison operators)
  const volumeDiscount =
    quantity >= 100 ? 0.20 :
    quantity >= 50 ? 0.15 :
    quantity >= 20 ? 0.10 :
    quantity >= 10 ? 0.05 : 0;

  // Promotional discount (using nullish coalescing and optional chaining)
  const promoDiscounts = {
    'SAVE10': 0.10,
    'SAVE20': 0.20,
    'FIRSTORDER': 0.15,
  };
  const promoDiscount = promoDiscounts?.[discountCode] ?? 0;

  // Total discount (cannot exceed 30%)
  const totalDiscount = Math.min(volumeDiscount + promoDiscount, 0.30);

  // Calculate final price
  const discountAmount = subtotal * totalDiscount;
  const finalPrice = subtotal - discountAmount;

  return {
    subtotal,
    volumeDiscount: volumeDiscount * 100,
    promoDiscount: promoDiscount * 100,
    totalDiscount: totalDiscount * 100,
    discountAmount,
    finalPrice,
  };
};

// Example usage
console.log(calculatePrice(10, 15, 'SAVE10'));
// { subtotal: 150, volumeDiscount: 5, promoDiscount: 10, ... }
```

### Application 2: Access Control System

```javascript
/**
 * Role-based access control using bitwise operators
 */

const ROLES = {
  GUEST: 0,
  USER: 1 << 0,
  MODERATOR: 1 << 1,
  ADMIN: 1 << 2,
  SUPER_ADMIN: 1 << 3,
};

const PERMISSIONS = {
  READ: 1 << 0,
  WRITE: 1 << 1,
  DELETE: 1 << 2,
  MANAGE_USERS: 1 << 3,
};

const rolePermissions = {
  [ROLES.GUEST]: PERMISSIONS.READ,
  [ROLES.USER]: PERMISSIONS.READ | PERMISSIONS.WRITE,
  [ROLES.MODERATOR]: PERMISSIONS.READ | PERMISSIONS.WRITE | PERMISSIONS.DELETE,
  [ROLES.ADMIN]: PERMISSIONS.READ | PERMISSIONS.WRITE | PERMISSIONS.DELETE | PERMISSIONS.MANAGE_USERS,
};

const canPerform = (userRole, permission) => {
  const userPermissions = rolePermissions[userRole] ?? 0;
  return (userPermissions & permission) === permission;
};

// Example usage
const user = ROLES.MODERATOR;
console.log(canPerform(user, PERMISSIONS.READ));    // true
console.log(canPerform(user, PERMISSIONS.DELETE));  // true
console.log(canPerform(user, PERMISSIONS.MANAGE_USERS)); // false
```

---

## Summary & Next Steps

### Key Takeaways

1. **Operators are fundamental:** All computation and logic in JavaScript relies on operators
2. **Type awareness matters:** JavaScript's dynamic typing and coercion require careful handling
3. **Use strict equality:** Always prefer `===` and `!==` over `==` and `!=`
4. **Modern operators improve safety:** `?.` and `??` prevent common errors
5. **Precedence and associativity:** Use parentheses for clarity in complex expressions
6. **Short-circuit evaluation:** Leverage it for performance and conditional logic
7. **Bitwise for flags:** Efficient for permissions, feature flags, and state management

### What You've Accomplished

- ✅ Mastered all JavaScript operator categories
- ✅ Understood type coercion and comparison semantics
- ✅ Applied modern operators for safer code
- ✅ Learned operator precedence and associativity
- ✅ Built real-world applications using operators
- ✅ Debugged common operator-related pitfalls

### Next Topics to Study

1. **Control Flow** → [03.Control_Structures_Conditionals.md](../03.Control_Structures_Conditionals/03.Control_Structures_Conditionals.md)
2. **Functions** → [04.Functions.md](../04.Functions/04.Functions.md)
3. **Arrays** → [05.Arrays.md](../05.Arrays/05.Arrays.md)

### Practice Challenges

1. Build a scientific calculator with all operators
2. Create a boolean expression evaluator
3. Implement a bitwise encryption system
4. Build a form validation library
5. Create a mathematical expression parser

---

## References

### Official Documentation

- [MDN: Expressions and Operators](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Expressions_and_Operators)
- [MDN: Operator Precedence](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Operator_Precedence)
- [ECMAScript Specification: Operators](https://tc39.es/ecma262/#sec-ecmascript-language-expressions)

### Specification References

- [Optional Chaining (ES2020)](https://github.com/tc39/proposal-optional-chaining)
- [Nullish Coalescing (ES2020)](https://github.com/tc39/proposal-nullish-coalescing)
- [Logical Assignment (ES2021)](https://github.com/tc39/proposal-logical-assignment)

### Additional Resources

- [JavaScript.info: Operators](https://javascript.info/operators)
- [JavaScript.info: Comparisons](https://javascript.info/comparison)
- [JavaScript.info: Logical operators](https://javascript.info/logical-operators)
- [2ality: Understanding JavaScript's type coercion](https://2ality.com/2019/10/type-coercion.html)

---

**Last Updated:** 2025-11-22
**Curriculum Version:** 2.0.0
**Maintainer:** Code Galaxy Contributors

**Next Lesson:** [Control Structures & Conditionals](../03.Control_Structures_Conditionals/03.Control_Structures_Conditionals.md) →
